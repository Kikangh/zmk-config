/*                KEY POSITIONS Corne

  ╭────────────────────────╮ ╭────────────────────────╮
  │  0   1   2   3   4   5 │ │  6   7   8   9  10  11 │
  │ 12  13  14  15  16  17 │ │ 18  19  20  21  22  23 │
  │ 24  25  26  27  28  29 │ │ 30  31  32  33  34  35 │
  ╰──────────╮  36  37  38 │ │ 39  40  41 ╭───────────╯
             ╰─────────────╯ ╰────────────╯            */

/*                KEY POSITIONS Sofle

  ╭────────────────────────╮          ╭────────────────────────╮
  │  0   1   2   3   4   5 │          │  6   7   8   9  10  11 │
  │ 12  13  14  15  16  17 │          │ 18  19  20  21  22  23 │
  │ 24  25  26  27  28  29 ╰───╮  ╭───╯ 30  31  32  33  34  35 │
  │ 36  37  38  39  40  41  42 │  │ 43  44  45  46  47  48  49 │
  ╰───────╮ 50  51  52  53  54 │  │ 55  56  57  58  59 ╭───────╯
          ╰────────────────────╯  ╰────────────────────╯            */

#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM, QUICKTAP) \
        combo_##NAME { \
            timeout-ms = <TERM>; \
            bindings = <BINDINGS>; \
            key-positions = <KEYPOS>; \
            layers = <LAYERS>; \
            global-quick-tap-ms = <QUICKTAP>; \
        };

/ {
    combos {
        compatible = "zmk,combos";

// Spacing combos
COMBO(ret,        &kp RET,              28 40, OPTIM ARROW NUMBERS, 50, 100)
COMBO(ret2,       &kp RET,              30 44, OPTIM ARROW NUMBERS, 50, 100)
COMBO(bspcword,   &kp LA(BSPC),         19 31, OPTIM NUMBERS, 50, 100)
COMBO(del,        &kp DEL,              18 30, OPTIM NUMBERS, 50, 100)
COMBO(tab,        &kp TAB,              28 29, OPTIM NUMBERS, 50, 100)
COMBO(stab,       &kp LS(TAB),          30 31, OPTIM NUMBERS, 50, 100)

// Shift Combo

// Letters combos

// Characters combo
COMBO(underscore, &kp OP_UNDS,          44 45,         OPTIM, 50, 100)
COMBO(op-circ,    &kp OP_CIR,           31 45,         OPTIM, 50, 100)

// Layers combos
COMBO(lay-arrow,  &tog ARROW,         14 15 16,        OPTIM ARROW, 50, 100)

// Editing combos
COMBO(op-cut,     &kp LG(LBKT),         14 26,         OPTIM, 50, 100)
COMBO(op-copy,    &kp LG(M),            15 27,         OPTIM, 50, 100)
COMBO(op-paste,   &kp LG(FSLH),         16 28,         OPTIM, 50, 100)
COMBO(op-pasttxt, &kp LG(LA(LS(FSLH))), 17 29,         OPTIM, 50, 100) //paste without formatting
COMBO(op-undo,    &kp LG(BSLH),         29 41,         OPTIM, 50, 100)
COMBO(op-redo,    &kp LG(LS(BSLH)),     27 39,         OPTIM, 50, 100)

// Windows Management combos
COMBO(cmd-tab,    &kp LG(TAB),          40 41,         OPTIM, 50, 100) // try to replace by swapper in keymap, but not yet functionning.
COMBO(space-l,    &kp LC(LEFT),         38 39,         OPTIM, 50, 100)
COMBO(space-r,    &kp LC(RIGHT),        46 47,         OPTIM, 50, 100)
COMBO(app-list,   &kp RC(SPACE),        20 32,         OPTIM, 50, 100) //Contexts open applications list 

// Application specifics shorcuts
    //OmniPlan
//COMBO(omnipl-identr, &kp LG(LS(N0)),    32 46,         RAISE, 50, 100) // Also works for workflowy WkfyNext
//COMBO(omnipl-identl, &kp LG(LS(N9)),    31 45,         RAISE, 50, 100) // Also works for workflowy WkfyPrev
//COMBO(omnipl-identr2, &kp LG(LS(N0)),   28 40,         ARROW, 50, 100) // Also works for workflowy WkfyNext
//COMBO(omnipl-identl2, &kp LG(LS(N9)),   27 39,         ARROW, 50, 100) // Also works for workflowy WkfyPrev

// Escape combos
COMBO(esc,           &kp ESC,        38 39 40,   0 1 2 3 4 5, 50, 100)
COMBO(esc2,          &kp ESC,           14 16,   0 1 2 3 4 5, 50, 100)
    };
};